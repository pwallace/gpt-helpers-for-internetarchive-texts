# GPT-Summarizer: Automated Archival Transcript Summarizer

---

## Overview

**GPT-Summarizer** is a Python script for batch-generating concise, neutral summaries of archival transcript files using OpenAI's GPT models.

This script was written explicitly to use ABBY OCR files generated by Internet Archive during the derivative process for "text" type items; however, it should be able to be used for any plaintext file, or easily modified to be a helper function.

The default prompt is designed for archivists and librarians who need professional, descriptive summaries for cataloging and finding aids.

---

## How It Works

- Reads all `.txt` files from the `source` directory.
- For each transcript:
    - Loads the text and removes line breaks for better processing.
    - Splits the text into chunks based on the model's token limit.
    - Sends each chunk to GPT-3.5-turbo with a system prompt instructing the model to produce a neutral, professional summary.
    - Collects all chunk summaries, combines them, and sends the combined summary back to GPT for final revision.
    - Writes the final revised summary to the `output` directory, prefixed with `gpt_`.

---

## Prompt Design

- The system prompt instructs GPT to avoid value judgments, speculation, and sensitive information (e.g., emails, URLs).
- The summary should be under 200 words, focusing on succinctness, accuracy, readability, and completeness.

---

## Usage

1. Place your transcript `.txt` files in the `source` directory.
2. Set your OpenAI API key as an environment variable:  
   ```bash
   export OPENAI_API_KEY="sk-..."
   ```
3. Install required Python packages:  
   ```bash
   pip install openai tiktoken
   ```
4. Run the script:  
   ```bash
   python gpt-summarizer.py
   ```
5. Summaries will be written to the `output` directory as `gpt_<original_filename>.txt`.

---

## Requirements

- Python 3.7+
- Packages: `openai`, `tiktoken`
- OpenAI API key (set as environment variable `OPENAI_API_KEY`)

---

## Notes

- The script uses GPT-3.5-turbo by default; you may change the model as needed.
- The script is designed for batch processing and will process all `.txt` files in the `source` directory.
- Summaries are revised for clarity and completeness before output.

---

## Example Workflow

1. Prepare your transcript files in the `source` directory.
2. Ensure your OpenAI API key is set.
3. Run the script.
4. Find the generated summaries in the `output` directory.

---

## Troubleshooting

- **API Key Error:** Make sure your OpenAI API key is set as an environment variable.
- **Missing Packages:** Install required packages with `pip install openai tiktoken`.
- **No Output:** Check that your transcript files are in the `source` directory and have the `.txt` extension.
